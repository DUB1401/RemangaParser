# Remanga Parser
**Remanga Parser** – это кроссплатформенный скрипт для получения данных с сайта [Remanga](https://remanga.org/) в формате JSON. Он позволяет записать всю информацию о конкретной манге, а также её главах и содержании глав.

## Порядок установки и использования
1. Установить Python версии не старше 3.9. При установке рекомендуется добавить в PATH.
2. В среду исполнения установить следующие пакеты вручную или при помощи файла _requirements.txt_: random_user_agent.
```
pip install random_user_agent
```
3. Настроить скрипт путём редактирования *Settings.json*.
4. Открыть директорию со скриптом в терминале. Можно использовать метод `cd` и прописать путь к папке, либо запустить терминал из проводника.
5. Ввести нужную команду и дождаться завершения.

# Консольные команды
```
rp.py parce [MANGA_SLUG] [FLAGS]
```
Производит парсинг тайтла с указанным алиасом в JSON формат и загружает его обложки. В случае, если файл тайтла уже существует, дополнит его новыми данными. 

**Список специфических флагов:**
* _**-f**_ – включает перезапись уже загруженных обложек и существующих JSON файлов.
____
```
rp.py update [FLAGS]
```
Проводит парсинг тайтлов, обновлённых за интервал времени, указанный в _Settings.json_.

**Список специфических флагов:**
* _**-f**_ – включает перезапись уже загруженных обложек и существующих JSON файлов;
* _**-local**_ – обновляет все локальные файлы JSON.
____
```
rp.py getcov [MANGA_SLUG] [FLAGS]
```
Загружает обложки конкретного тайтла.

**Список специфических флагов:**
* _**-f**_ – включает перезапись уже загруженных обложек.

# Settings.json
```
"authorization": ""
```
Токен авторизации аккаунта [Remanga](https://remanga.org/) для доступа к 18+ произведениям. Получить можно из одноимённого поля заголовка GET-запросов на страницах с контентом для взрослых.
____
```
"tome-to-tom": true
```
Указывает, нужно ли конвертировать ключ словарей _tome_, использующийся в JSON-определениях [Remanga](https://remanga.org/), в _tom_.
____
```
"delay": 5
```
Задаёт интервал в секундах для паузы между множественными GET-запросами к серверу.

Рекомендуемое значение: не менее 5 секунд.
____
```
"use-proxy": false
```
Указывает, следует ли использовать прокси-сервера.
____
```
"proxy": [
	{
		"https": "1.1.1.1:8080"
	}
]
```
Задаёт прокси-сервера для доступа к [Remanga](https://remanga.org/). При указании нескольких скрипт будет случайным образом выбирать один из предоставленных вариантов для каждого парсящегося тайтла.

**Примечание:** Указанный  прокси-сервер не является валидным и используется лишь в качестве примера.
____
```
"check-updates-period": 60
```
Указывает, обновления за какой период времени (в минутах) до запуска скрипта нужно получить.

*Evolv Group. Copyright © 2018-2023.*
